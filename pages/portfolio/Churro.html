<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Jaume Albardaner</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="../../assets/img/J.png" rel="icon">
  <link href="../../assets/img/J.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="../../assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="../../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="../../assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="../../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="../../assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: iPortfolio - v3.8.1
  * Template URL: https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Mobile nav toggle button ======= -->
  <i class="bi bi-list mobile-nav-toggle d-xl-none"></i>

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="d-flex flex-column">

      <div class="profile">
        <img src="../../assets/img/profile-img.jpg" alt="" class="img-fluid rounded-circle">
        <h1 class="text-light"><a href="../../index.html">Jaume Albardaner <br>i Torras</a></h1>
        <div class="social-links mt-3 text-center">
          <a href="https://www.linkedin.com/in/jaumealbardaner/" class="linkedin"><i class="bx bxl-linkedin"></i></a>
          <a href="mailto:jaumealbardaner@gmail.com" class="email"><i class="bi bi-envelope"></i></a>
          <a href="https://www.instagram.com/jaumealbardaner/" class="instagram"><i class="bi bi-instagram"></i></a>
          <a href="https://github.com/JaumeAlbardaner"><i class="bi bi-github"></i></a>
        </div>
      </div>

      <nav id="navbar" class="nav-menu navbar">
        <ul>
          <li><a href="../../index.html#hero" class="nav-link scrollto active"><i class="bx bx-home"></i> <span>Home</span></a></li>
          <li><a href="../../index.html#about" class="nav-link scrollto"><i class="bx bx-user"></i> <span>About</span></a></li>
          <li><a href="../../index.html#resume" class="nav-link scrollto"><i class="bx bx-file-blank"></i> <span>Resume</span></a></li>
          <li><a href="../../index.html#portfolio" class="nav-link scrollto"><i class="bx bx-book-content"></i> <span>Portfolio</span></a></li>
          <!-- <li><a href="#services" class="nav-link scrollto"><i class="bx bx-server"></i> <span>Services</span></a></li> -->
          <li><a href="../../index.html#contact" class="nav-link scrollto"><i class="bx bx-envelope"></i> <span>Contact</span></a></li>
        </ul>
      </nav><!-- .nav-menu -->
    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <section class="breadcrumbs">
      <div class="container">

        <div class="d-flex justify-content-between align-items-center">
          <h2>Churro.c</h2>
          <ol>
            <li><a href="../../index.html">Home</a></li>
            <li>Churro.c</li>
          </ol>
        </div>

      </div>
    </section><!-- End Breadcrumbs -->

    <section class="inner-page">
      <div class="container">
        <br>
        <p><b>Level:</b> Small project
          <br>
          
          <b>GitHub Repository:</b>  <a href="https://github.com/JaumeAlbardaner/churro.c">https://github.com/JaumeAlbardaner/churro.c</a>
        </p>
        

        <h3>What is "Churro.c"?</h3>

          Churro.c is the spaniard-ization of the <i>Donut.c</i> program.
          <br><br>

        <h4>What is "Donut.c"?</h4>  

        Donut.c is a doughnut-shaped code snippet written in C by Andy Sloane back in 2006 (code can be found in his website: <a href="https://www.a1k0n.net/2006/09/15/obfuscated-c-donut.html">https://www.a1k0n.net/2006/09/15/obfuscated-c-donut.html</a>).
        Not only is the code shaped as a doughnut, but if compiled and executed it also outputs a doughnut in the terminal. A spinning one at that.
          <br>
          
          <pre>
            <code>             
                      k;double sin()
                  ,cos();main(){float A=
                0,B=0,i,j,z[1760];char b[
              1760];printf("\x1b[2J");for(;;
          ){memset(b,32,1760);memset(z,0,7040)
          ;for(j=0;6.28>j;j+=0.07)for(i=0;6.28
          >i;i+=0.02){float c=sin(i),d=cos(j),e=
          sin(A),f=sin(j),g=cos(A),h=d+2,D=1/(c*
         h*e+f*g+5),l=cos          (i),m=cos(B),n=s\
        in(B),t=c*h*g-f*             e;int x=40+30*D*
        (l*h*m-t*n),y=               12+15*D*(l*h*n
        +t*m),o=x+80*y,             N=8*((f*e-c*d*g
          )*m-c*d*e-f*g-l          *d*n);if(22>y&&
          y>0&&x>0&&80>x&&D>z[o]){z[o]=D;;;b[o]=
          ".,-~:;=!*#$@"[N>0?N:0];}}/*#****!!-*/
          printf("\x1b[H");for(k=0;1761>k;k++)
            putchar(k%80?b[k]:10);A+=0.04;B+=
              0.02;}}/*****####*******!!=;:~
                ~::==!!!**********!!!==::-
                  .,~~;;;========;;;:~-.
                      ..,--------,*/
        </code>
        </pre>
          To learn how the code works I highly recommend checking out the author's explanation: <a href="https://www.a1k0n.net/2011/07/20/donut-math.html">https://www.a1k0n.net/2011/07/20/donut-math.html</a>
          
          <br><br>

        <h4>The transition to "Churro.c"</h4> 
        <p>
          I initially came across the code on a <a href="https://www.youtube.com/watch?v=sW9npZVpiMI"> Joma Tech video</a>. It seemed like an interesting project to undertake,
          but I eventually forgot about it. Until it made news in my country. At that point I made sure that at some point in the near future I had to understand
          how this spinning doughnut worked.
        </p>
        <p>
          The best way that I've found to learn something, is to work with it myself. Thereafter I wanted to make my own version of the doughnut, but with something
          that resonates better with what we have in my country. Since doughnuts are not very popular, I went for a very similar alternative, <i>churros</i>.
        </p>

        There are two things to note about Donut.c:
          <ol>
              <li><b>Its toroidal structure:</b>
                Thanks to this structure, the code is easier on the eyes, as calculus of luminosity at each point is simple.
              </li>
              <li><b>Its terminal output:</b>
                Although its terminal output looks awesome, there can't be too much detail on the object. Since a churro has much more detail, another method for visualization must be used.
              </li>
          </ol>

          <p>
            To solve the lack of detail with the terminal output, I relied on <a href="https://processing.org/">Processing</a>. It enabled me to easily replicate the 
            original output from the Donut.c author:
          </p>

          <div class="row justify-content-md-center">
            <div class="col-5">
              <img src="../../assets/img/portfolio/churro/donut.gif"  alt="This is an animated gif image, but it does not move" class="img-fluid">
            </div>
          </div>
          <br><br>
          <p>
            To adapt the code to make a churro, there were two steps to be performed:
          </p>
          <ol>
            <li><b>Change the rotated area:</b>
              In the Donut.c code, a circle is rotated around the y axis to give the illusion of a doughnut. In my case it had to be a something more like a star.
            </li>
            <li><b>Adapt the luminosity:</b>
              Since it's not a circle anymore, there are more changes in lighting in each rotation.
            </li>
        </ol>

        <h5>Changing the rotated area</h5>
        <div class="row justify-content-md-center">
          <div class="col-2">
            <img src="../../assets/img/portfolio/churro/r1r2.png"  alt="This is a png image, it does not move" class="img-fluid">
          </div>
        </div><br>
        <p>
          Regarding the original code, <b>R2</b> does not need to be changed. However, <b>R1</b> will need to change depending on the angle. I have adapted it so that it follows the function:
        </p>
        <div class="row justify-content-md-center">
          <div class="col-3">
            <img src="../../assets/img/portfolio/churro/functionR1.png"  alt="This is a png image, it does not move" class="img-fluid">
          </div>
        </div>
        <br>
        <p>This results in the following section (which is later shifted along the x axis because of <b>R2</b>'s effect):</p>
        <div class="row justify-content-md-center">
          <div class="col-3">
            <img src="../../assets/img/portfolio/churro/Section.png"  alt="This is a png image, it does not move" class="img-fluid">
          </div>
        </div><br>
        <h5>Computing the new illumination</h5>

        <p>Initially I made an attempt at computing the exact normal vector that the Churro should have at each point. However, as equations started to become bigger
          and bigger, I chose to simplify the shape. By choosing to work with a star-like shape, the normal at each point can be computed much easily:
        </p>
        <div class="row justify-content-md-center">
          <div class="col-3">
            <img src="../../assets/img/portfolio/churro/L.png"  alt="This is a png image, it does not move" class="img-fluid">
          </div>
        </div>
        Here theta corresponds to a vector of numbers ranging from 0 to 5. In this project I have iterated through these values with increments of 0.1.
        <br>
        <h4>Resulting output</h4>
        <p>
          Lastly, I checked that the illumination was set properly by plotting the circular version of the Churro. Since it looked similar than the resulting illumination
          on the doughnut, but with the small adaptations made for the star-like pattern, I considered the project a success. 
        </p>
        <p>
          For the final version, a distortion was performed on one of the axis, and the rotation along the y axis was shortened, to give it a more churro-like 
          appearance.
        </p>
        
        <div class="row justify-content-md-center">
          <div class="col-4">
            <img src="../../assets/img/portfolio/churro/churro-cercle.gif" class="img-fluid" alt="">
          </div>
          <div class="col-4">
            <img src="../../assets/img/portfolio/churro/churro-gif.gif" class="img-fluid" alt="">
          </div>
        </div><br>
          <p>Thanks for reading, here's a chocolate churro</p>
          <div class="row justify-content-md-center">
            <div class="col-3">
              <img src="../../assets/img/portfolio/churro/churro-end.jpg"  alt="This is a jpg image, it does not move" class="img-fluid">
            </div>
          </div><br>
  
      </div>
    </section>

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>iPortfolio</span></strong>
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/ -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer><!-- End  Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="../../assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="../../assets/vendor/aos/aos.js"></script>
  <script src="../../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../../assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="../../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="../../assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="../../assets/vendor/typed.js/typed.min.js"></script>
  <script src="../../assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="../../assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="../../assets/js/main.js"></script>

</body>

</html>